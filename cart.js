function renderCart(){ const wrap=document.getElementById('cartItems'); if(!wrap) return; const cart=JSON.parse(localStorage.getItem('traco_cart')||'{}'); const items=Object.values(cart); if(items.length===0){ wrap.innerHTML='<p>Your cart is empty.</p>'; return } wrap.innerHTML=''; let total=0; items.forEach(it=>{ const row=document.createElement('div'); row.className='product-card'; row.innerHTML = `<h4>${it.title}</h4><p>${it.qty} × $${it.price.toFixed(2)}</p><p>Subtotal: $${(it.qty*it.price).toFixed(2)}</p>`; wrap.appendChild(row); total += it.qty*it.price; }); const totalEl=document.createElement('div'); totalEl.innerHTML = `<h3>Total: $${total.toFixed(2)}</h3>`; wrap.appendChild(totalEl); }
document.addEventListener('DOMContentLoaded', renderCart);
document.addEventListener('click', e=>{ if(e.target.id==='clearCart'){ localStorage.removeItem('traco_cart'); renderCart(); } if(e.target.id==='checkoutBtn'){ alert('Checkout demo — no real payments.'); localStorage.removeItem('traco_cart'); renderCart(); } });
